import { Product, ProductVariant } from "@/types";

import patatesImage from "@/assets/products/patates.jpg";
import maydanozImage from "@/assets/products/maydanoz.jpg";
import patlicanImage from "@/assets/products/patlican.jpg";
import dereotuImage from "@/assets/products/dereotu.jpg";

// Yaygın varyasyon şablonları
const kgVariants: ProductVariant[] = [
  { id: "1kg", label: "1 KG", quantity: 1, unit: "kg", priceMultiplier: 1, isDefault: true },
  { id: "2kg", label: "2 KG", quantity: 2, unit: "kg", priceMultiplier: 2 },
  { id: "5kg", label: "5 KG", quantity: 5, unit: "kg", priceMultiplier: 4.5 },
  { id: "kasa", label: "Kasa (15 KG)", quantity: 15, unit: "kg", priceMultiplier: 12 },
];

const demetVariants: ProductVariant[] = [
  { id: "1demet", label: "1 Demet", quantity: 1, unit: "demet", priceMultiplier: 1, isDefault: true },
  { id: "3demet", label: "3 Demet", quantity: 3, unit: "demet", priceMultiplier: 2.7 },
  { id: "5demet", label: "5 Demet", quantity: 5, unit: "demet", priceMultiplier: 4 },
  { id: "kasa", label: "Kasa (20 Demet)", quantity: 20, unit: "demet", priceMultiplier: 15 },
];

const adetVariants: ProductVariant[] = [
  { id: "1adet", label: "1 Adet", quantity: 1, unit: "adet", priceMultiplier: 1, isDefault: true },
  { id: "3adet", label: "3 Adet", quantity: 3, unit: "adet", priceMultiplier: 2.8 },
  { id: "5adet", label: "5 Adet", quantity: 5, unit: "adet", priceMultiplier: 4.5 },
  { id: "kasa", label: "Kasa (12 Adet)", quantity: 12, unit: "adet", priceMultiplier: 10 },
];

export const products: Product[] = [
  // Meyveler
  {
    id: "1",
    name: "Kırmızı Elma",
    slug: "kirmizi-elma",
    categoryId: "1",
    categoryName: "Meyveler",
    price: 32.5,
    unit: "kg",
    origin: "Isparta",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "plenty",
    isBugunHalde: true,
    priceChange: "down",
    previousPrice: 35.0,
    images: ["https://images.unsplash.com/photo-1619546813926-a78fa6372cd2?w=400&h=400&fit=crop"],
    description: "Isparta'nın bereketli topraklarından taze kırmızı elmalar.",
    variants: kgVariants,
  },
  {
    id: "2",
    name: "Muz",
    slug: "muz",
    categoryId: "1",
    categoryName: "Meyveler",
    price: 54.0,
    unit: "kg",
    origin: "Anamur",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "limited",
    isBugunHalde: true,
    priceChange: "up",
    previousPrice: 48.0,
    images: ["https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=400&h=400&fit=crop"],
    description: "Anamur'un meşhur tatlı muzları.",
    variants: kgVariants,
  },
  {
    id: "3",
    name: "Çilek",
    slug: "cilek",
    categoryId: "1",
    categoryName: "Meyveler",
    price: 89.0,
    unit: "kg",
    origin: "Antalya",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "last",
    isBugunHalde: true,
    priceChange: "stable",
    images: ["https://images.unsplash.com/photo-1543528176-61b239494933?w=400&h=400&fit=crop"],
    description: "Antalya seralarından taze çilekler.",
    variants: [
      { id: "250g", label: "250 GR", quantity: 0.25, unit: "kg", priceMultiplier: 0.3, isDefault: true },
      { id: "500g", label: "500 GR", quantity: 0.5, unit: "kg", priceMultiplier: 0.55 },
      { id: "1kg", label: "1 KG", quantity: 1, unit: "kg", priceMultiplier: 1 },
      { id: "kasa", label: "Kasa (5 KG)", quantity: 5, unit: "kg", priceMultiplier: 4 },
    ],
  },
  {
    id: "4",
    name: "Armut",
    slug: "armut",
    categoryId: "1",
    categoryName: "Meyveler",
    price: 28.0,
    unit: "kg",
    origin: "Bursa",
    quality: "standart",
    arrivalDate: "2025-12-22",
    availability: "plenty",
    isBugunHalde: false,
    priceChange: "stable",
    images: ["https://images.unsplash.com/photo-1514756331096-242fdeb70d4a?w=400&h=400&fit=crop"],
    description: "Bursa'nın tatlı armutları.",
    variants: kgVariants,
  },
  // Sebzeler
  {
    id: "5",
    name: "Domates",
    slug: "domates",
    categoryId: "2",
    categoryName: "Sebzeler",
    price: 24.0,
    unit: "kg",
    origin: "Antalya",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "plenty",
    isBugunHalde: true,
    priceChange: "down",
    previousPrice: 28.0,
    images: ["https://images.unsplash.com/photo-1592924357228-91a4daadcfea?w=400&h=400&fit=crop"],
    description: "Antalya'nın güneşinde yetişen domatesler.",
    variants: kgVariants,
  },
  {
    id: "6",
    name: "Salatalık",
    slug: "salatalik",
    categoryId: "2",
    categoryName: "Sebzeler",
    price: 18.5,
    unit: "kg",
    origin: "Adana",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "plenty",
    isBugunHalde: true,
    priceChange: "stable",
    images: ["https://images.unsplash.com/photo-1604977042946-1eecc30f269e?w=400&h=400&fit=crop"],
    description: "Adana'dan taze salatalıklar.",
    variants: kgVariants,
  },
  {
    id: "7",
    name: "Biber (Sivri)",
    slug: "biber-sivri",
    categoryId: "2",
    categoryName: "Sebzeler",
    price: 22.0,
    unit: "kg",
    origin: "Kahramanmaraş",
    quality: "premium",
    arrivalDate: "2025-12-22",
    availability: "limited",
    isBugunHalde: false,
    priceChange: "up",
    previousPrice: 19.0,
    images: ["https://images.unsplash.com/photo-1588252303782-cb80119abd6d?w=400&h=400&fit=crop"],
    description: "Maraş'ın acı biberleri.",
    variants: kgVariants,
  },
  {
    id: "8",
    name: "Patlıcan",
    slug: "patlican",
    categoryId: "2",
    categoryName: "Sebzeler",
    price: 19.0,
    unit: "kg",
    origin: "İzmir",
    quality: "standart",
    arrivalDate: "2025-12-23",
    availability: "plenty",
    isBugunHalde: false,
    priceChange: "stable",
    images: [patlicanImage],
    description: "İzmir'in lezzetli patlıcanları.",
    variants: kgVariants,
  },
  // Yeşillikler
  {
    id: "9",
    name: "Maydanoz",
    slug: "maydanoz",
    categoryId: "3",
    categoryName: "Yeşillikler",
    price: 8.0,
    unit: "demet",
    origin: "İstanbul",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "plenty",
    isBugunHalde: true,
    priceChange: "stable",
    images: [maydanozImage],
    description: "Taze maydanoz demetleri.",
    variants: demetVariants,
  },
  {
    id: "10",
    name: "Dereotu",
    slug: "dereotu",
    categoryId: "3",
    categoryName: "Yeşillikler",
    price: 10.0,
    unit: "demet",
    origin: "İstanbul",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "limited",
    isBugunHalde: false,
    priceChange: "up",
    previousPrice: 8.0,
    images: [dereotuImage],
    description: "Taze dereotu demetleri.",
    variants: demetVariants,
  },
  // Narenciye
  {
    id: "11",
    name: "Portakal",
    slug: "portakal",
    categoryId: "4",
    categoryName: "Narenciye",
    price: 16.0,
    unit: "kg",
    origin: "Mersin",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "plenty",
    isBugunHalde: true,
    priceChange: "down",
    previousPrice: 19.0,
    images: ["https://images.unsplash.com/photo-1547514701-42782101795e?w=400&h=400&fit=crop"],
    description: "Mersin'in tatlı portakalları.",
    variants: kgVariants,
  },
  {
    id: "12",
    name: "Limon",
    slug: "limon",
    categoryId: "4",
    categoryName: "Narenciye",
    price: 28.0,
    unit: "kg",
    origin: "Adana",
    quality: "standart",
    arrivalDate: "2025-12-22",
    availability: "plenty",
    isBugunHalde: false,
    priceChange: "stable",
    images: ["https://images.unsplash.com/photo-1590502593747-42a996133562?w=400&h=400&fit=crop"],
    description: "Adana'nın ekşi limonları.",
    variants: kgVariants,
  },
  // Kök Sebzeler
  {
    id: "13",
    name: "Havuç",
    slug: "havuc",
    categoryId: "5",
    categoryName: "Kök Sebzeler",
    price: 12.0,
    unit: "kg",
    origin: "Konya",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "plenty",
    isBugunHalde: false,
    priceChange: "stable",
    images: ["https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400&h=400&fit=crop"],
    description: "Konya'nın tatlı havuçları.",
    variants: kgVariants,
  },
  {
    id: "14",
    name: "Patates",
    slug: "patates",
    categoryId: "5",
    categoryName: "Kök Sebzeler",
    price: 14.0,
    unit: "kg",
    origin: "Niğde",
    quality: "standart",
    arrivalDate: "2025-12-22",
    availability: "plenty",
    isBugunHalde: true,
    priceChange: "down",
    previousPrice: 16.0,
    images: [patatesImage],
    description: "Niğde'nin meşhur patatesleri.",
    variants: [
      { id: "1kg", label: "1 KG", quantity: 1, unit: "kg", priceMultiplier: 1, isDefault: true },
      { id: "3kg", label: "3 KG", quantity: 3, unit: "kg", priceMultiplier: 2.8 },
      { id: "5kg", label: "5 KG", quantity: 5, unit: "kg", priceMultiplier: 4.5 },
      { id: "kasa", label: "Kasa (25 KG)", quantity: 25, unit: "kg", priceMultiplier: 18 },
    ],
  },
  // Tropikal
  {
    id: "15",
    name: "Avokado",
    slug: "avokado",
    categoryId: "6",
    categoryName: "Tropikal",
    price: 95.0,
    unit: "kg",
    origin: "Alanya",
    quality: "premium",
    arrivalDate: "2025-12-23",
    availability: "limited",
    isBugunHalde: true,
    priceChange: "up",
    previousPrice: 85.0,
    images: ["https://images.unsplash.com/photo-1523049673857-eb18f1d7b578?w=400&h=400&fit=crop"],
    description: "Alanya'nın tropikal avokadoları.",
    variants: adetVariants,
  },
  {
    id: "16",
    name: "Mango",
    slug: "mango",
    categoryId: "6",
    categoryName: "Tropikal",
    price: 120.0,
    unit: "kg",
    origin: "Antalya",
    quality: "premium",
    arrivalDate: "2025-12-22",
    availability: "last",
    isBugunHalde: false,
    priceChange: "stable",
    images: ["https://images.unsplash.com/photo-1601493700631-2b16ec4b4716?w=400&h=400&fit=crop"],
    description: "Antalya'nın tropikal mangoları.",
    variants: adetVariants,
  },
];

export const getBugunHaldeProducts = () => products.filter((p) => p.isBugunHalde);

export const getProductsByCategory = (categorySlug: string) => 
  products.filter((p) => p.categoryId === categorySlug || 
    products.find(prod => prod.id === p.id)?.categoryName.toLowerCase().replace(/ı/g, 'i').replace(/ş/g, 's').replace(/ö/g, 'o').replace(/ü/g, 'u').replace(/ğ/g, 'g').replace(/ç/g, 'c') === categorySlug
  );

export const getProductBySlug = (slug: string) => products.find((p) => p.slug === slug);

export const getRelatedProducts = (productId: string, categoryId: string, limit: number = 6) => 
  products.filter((p) => p.categoryId === categoryId && p.id !== productId).slice(0, limit);
